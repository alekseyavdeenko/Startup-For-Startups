extends layout
include header

block content
    include header
    include validationErrors
    div.otstup
    h3=title
    #all
        #image_all
            form#user_image(name="user_image", method='post', action='uploadimage', enctype="multipart/form-data")
                if(user.img != null)
                    img#input_img(name="image", src='#{user.img}', width = "120px", height='150px')
                else
                    img#input_img(name="image", src='../../images/default_avatar.gif', width = "120px", height='150px')
                br
                input#input_image.btn.btn-default(type="file", name="myImage")
                br
                button#change_avatar.change_userSettings(type="submit") submit
            br
            br
        form#form_update_user(name="changeUserSettings", method="post", action="changeusersettings")
            .form-group
                label(for='input_name') Name
                input#input_name.text-fields.form-control(type='text', placeholder="Your name", name="user", value="#{user.user}")
            .form-group
                label(for='input_login') Login
                input#input_login.text-fields.form-control(type='text', placeholder="Login", name="login", value="#{user.login}")
            .form-group
                label(for='input_password') Password
                input#input_password.text-fields.form-control(type='text', placeholder="Password", name="password", value="#{atob(user.password)}")

            .form-group
                label(for='password_confirmation') Password confirmation
                input#password_confirmation.text-fields.form-control(type='password', placeholder="Confirm your password", name="password_confirm", value="#{atob(user.password)}")


            .form-group
                label Profession
                if(user.profession)
                    input#input_profession.text-fields.form-control(type="text", placeholder="Profession", name="profession", value="#{user.profession}")
                    .btn-group.dropup
                        button.btn.btn-default(type='button') .professions
                        button.btn.btn-default.dropdown-toggle(data-toggle='dropdown', type='button')
                            span.caret
                        ul.dropdown-menu.dropdown-menu-right
                            li
                                a(href='/signup') Profession 1
                            li
                                a(href='/signup') Profession 2

                else
                    input#input_profession.text-fields.form-control(type="text", placeholder="Profession", name="profession")
                    .btn-group.dropup
                        button.btn.btn-default(type='button') .professions
                        button.btn.btn-default.dropdown-toggle(data-toggle='dropdown', type='button')
                            span.caret
                        ul.dropdown-menu.dropdown-menu
                            li
                                input(name='occupation[0][0]')
                            li
                                input(name='occupation[0][1]')

            br
            br
            button#submit_changes_userSettings.change_userSettings(type="submit") submit
            br
            br
            br
            br
            br
            br
            br

| {
|     "occupation":  [
|         {
|        "computer hardware engineer",
|        "computer network architect",
|        "computer operator",
|        "computer programmer",
|        "computer science teacher",
|        "computer support specialist",
|        "computer systems administrator",
|        "computer systems analyst",
|        "software developer",
|        "web developer"
|     ]
| }